# 操作系统（王道）1
[TOC]
## 操作系统的概念、功能和目标
![-w2880](media/16353348410193/16353351350744.jpg)
![-w1440](media/16353348410193/16353353396137.jpg)
![-w1440](media/16353348410193/16353355574168.jpg)
![-w1440](media/16353348410193/16353356503104.jpg)
![-w1440](media/16353348410193/16353358787774.jpg)
![-w1440](media/16353348410193/16353359537122.jpg)
![-w1440](media/16353348410193/16353360136646.jpg)
![-w1406](media/16353348410193/16353360838087.jpg)
![-w1422](media/16353348410193/16353361622782.jpg)
![-w1413](media/16353348410193/16353367663830.jpg)
- 用户接口：“用户和操作系统之间的接口”，用户通过输入指令，OS返回结果给用户。
- 程序接口：”程序和操作系统之间的接口“，供程序员在编程时使用，通过这个接口，可在程序执行时访问系统资源以及获得OS服务。
- 在计算机系统中通常运行着两种程序：系统程序和用户程序；为了保证系统程序不被用户程序破坏，计算机设置了两种状态：内核态和用户态。
    - 内核态：操作系统在系统态运行，运行的指令称为特权指令，其对内存空间的访问范围没有限制，可以访问用户存储空间和系统存储空间，如启动各种外部设备、转换执行状态等，特权指令只允许操作系统执行，不允许应用程序使用。
    - 用户态：应用程序只能在用户态运行，应用程序一般使用的都是非特权指令，不能对系统中的硬件和软件直接访问，对内存的访问也仅限用户空间。在实际运行中，处理机会在系统态和用户态切换。

![-w1410](media/16353348410193/16353371279832.jpg)
![-w1416](media/16353348410193/16353372103469.jpg)
![-w1429](media/16353348410193/16353372891959.jpg)
![-w1439](media/16353348410193/16353374316993.jpg)
![-w1381](media/16353348410193/16353375142164.jpg)

## 操作系统的特征
![-w1385](media/16353348410193/16353380007041.jpg)
![-w1430](media/16353348410193/16353384723402.jpg)
![-w1439](media/16353348410193/16353386171195.jpg)
![-w1439](media/16353348410193/16353388295555.jpg)
![-w1427](media/16353348410193/16353389481380.jpg)
![-w1392](media/16353348410193/16353392366771.jpg)
![-w1431](media/16353348410193/16353393339772.jpg)
![-w1387](media/16353348410193/16353394585274.jpg)
![-w1403](media/16353348410193/16353397279674.jpg)
![-w1404](media/16353348410193/16353398455203.jpg)


## 操作系统的发展与分类
![-w1325](media/16353348410193/16353415540292.jpg)
1.用户将程序事先输入在纸带上，然后将纸带放进纸带机里面，纸带机就会将数据读取到计算机里，计算机处理完成之后，就会将结果输出到纸带机上，输出纸带                2.用户占用全机：是指用户将纸带放进纸带机，到输出纸带，都是一个用户占有
3.人机矛盾是指：纸带的输入速度过于慢，计算机处理速度过于快
![-w1405](media/16353348410193/16353420522736.jpg)
![-w1388](media/16353348410193/16353422544834.jpg)
![-w1440](media/16353348410193/16353424598200.jpg)
![-w1428](media/16353348410193/16353426215960.jpg)
![-w1385](media/16353348410193/16353427307897.jpg)
![-w1368](media/16353348410193/16353428891031.jpg)
![-w1414](media/16353348410193/16353430076769.jpg)

![-w1439](media/16353348410193/16353431333167.jpg)
![-w1359](media/16353348410193/16353430683135.jpg)

## 操作系统的运行机制和体系结构
![-w1378](media/16353348410193/16353434117117.jpg)

![-w1387](media/16353348410193/16353435202984.jpg)

![-w1430](media/16353348410193/16353436795422.jpg)

![-w1418](media/16353348410193/16353437674061.jpg)

![-w1367](media/16353348410193/16353438371673.jpg)

![-w1324](media/16353348410193/16353438919440.jpg)

![-w1410](media/16353348410193/16353440463741.jpg)
![-w1382](media/16353348410193/16353441502912.jpg)
![-w1347](media/16353348410193/16353442052934.jpg)
![-w1404](media/16353348410193/16353444620731.jpg)
![-w1389](media/16353348410193/16353445764337.jpg)

## 中断和异常 
![-w1341](media/16353348410193/16354220891839.jpg)
![-w1391](media/16353348410193/16354221552609.jpg)
- 当CPU收到计时部件发出的中断信号，那么CPU就会知道当前时间片结束了，要切换到下一个时间片了。此时会从用户态切换到核心态，交给操作系统管理。
![-w1375](media/16353348410193/16354222575209.jpg)
![-w1416](media/16353348410193/16354223305739.jpg)
- 进程2完成之后，输出结果需要调用到I/O设备；由于调度I/O设备是属于特权指令，因此需要从用户态切换到核心态。
![-w1356](media/16353348410193/16354223969484.jpg)
![-w1330](media/16353348410193/16354224178036.jpg)
![-w1372](media/16353348410193/16354224486344.jpg)
![-w1417](media/16353348410193/16354224866651.jpg)
![-w1369](media/16353348410193/16354225197676.jpg)
![-w1431](media/16353348410193/16354225434943.jpg)

- CPU收到中断信号后，就意味着需要操作系统介入，开展管理工作，CPU会从用户态切换到核心态，然后把CPU的使用权限交给操作系统，操作系统的内核开始对中断信号进行处理；操作系统发现刚才的中断信号是时间片到了，操作系统就负责将进程1切换到进程2运行，在完成一系列管理工作后，操作系统会将CPU的使用权交还给用户进程。
![-w1385](media/16353348410193/16354229196006.jpg)
![-w1405](media/16353348410193/16354231448208.jpg)
![-w1388](media/16353348410193/16354232102431.jpg)
![-w1428](media/16353348410193/16354233986982.jpg)
![-w1322](media/16353348410193/16354234927487.jpg)

## 系统调用
![-w1440](media/16353348410193/16354236877257.jpg)
![-w1395](media/16353348410193/16354237950891.jpg)
![-w1388](media/16353348410193/16354239125242.jpg)
![-w1401](media/16353348410193/16354240325297.jpg)
![-w1381](media/16353348410193/16354242460191.jpg)
![-w1312](media/16353348410193/16354243333184.jpg)
![-w1434](media/16353348410193/16354252167406.jpg)
![-w1364](media/16353348410193/16354252270123.jpg)
- 用户态情况下只能执行非特权指令
- 核心态情况下既能执行非特权指令，也能执行特权指令。但是陷入指令是只能在用户态下执行的。
![-w1429](media/16353348410193/16354254061660.jpg)
![-w1421](media/16353348410193/16354255814404.jpg)

## 进程的定义、组成、组织方式、特征
![-w1425](media/16353348410193/16354262109996.jpg)
![-w1401](media/16353348410193/16354264269535.jpg)
![-w1430](media/16353348410193/16354265964038.jpg)
![-w1403](media/16353348410193/16354268548422.jpg)
- 程序段里面存放的是程序的指令序列。
![-w1384](media/16353348410193/16354269221130.jpg)
![-w1389](media/16353348410193/16354271743608.jpg)
![-w1405](media/16353348410193/16354272375654.jpg)
![-w1378](media/16353348410193/16354273084355.jpg)
![-w1353](media/16353348410193/16354274120797.jpg)
![-w1404](media/16353348410193/16354274563350.jpg)
![-w1368](media/16353348410193/16354274802075.jpg)
![-w1427](media/16353348410193/16354275911234.jpg)
![-w1423](media/16353348410193/16354278178445.jpg)

## 进程的状态与转换
![-w1304](media/16353348410193/16354756916078.jpg)
![-w1421](media/16353348410193/16354758714996.jpg)

- 进程处于创建态
- ![-w1419](media/16353348410193/16354759508163.jpg)

- 进程处于终止态
- ![-w1400](media/16353348410193/16354760217253.jpg)

![-w1420](media/16353348410193/16354760747885.jpg)
![-w1420](media/16353348410193/16354762971101.jpg)
![-w1401](media/16353348410193/16354763707794.jpg)

## 进程控制
![-w1378](media/16353348410193/16354819714128.jpg)
![-w1378](media/16353348410193/16354821405822.jpg)
![-w1380](media/16353348410193/16354821875566.jpg)
![-w1437](media/16353348410193/16354823786233.jpg)
![-w1395](media/16353348410193/16354825004579.jpg)
![-w1365](media/16353348410193/16354827864619.jpg)
![-w1402](media/16353348410193/16354828641397.jpg)
![-w1418](media/16353348410193/16354829879218.jpg)
![-w1382](media/16353348410193/16354830436454.jpg)
![-w1421](media/16353348410193/16354830989872.jpg)

## 进程通信
![-w1401](media/16353348410193/16354979567036.jpg)
![-w1404](media/16353348410193/16354980954877.jpg)
![-w1422](media/16353348410193/16354982449790.jpg)
![-w1398](media/16353348410193/16354985297540.jpg)
![-w1413](media/16353348410193/16354986588250.jpg)
![-w1418](media/16353348410193/16354987233105.jpg)
![-w1402](media/16353348410193/16354987856915.jpg)

## 线程概念和多线程模型
![-w1434](media/16353348410193/16355066828036.jpg)
![-w1422](media/16353348410193/16355067884754.jpg)
![-w1410](media/16353348410193/16355070600649.jpg)
![-w1397](media/16353348410193/16355071954834.jpg)
![-w1418](media/16353348410193/16355073345900.jpg)
![-w1433](media/16353348410193/16355074740239.jpg)
![-w1375](media/16353348410193/16355075740274.jpg)
![-w1420](media/16353348410193/16355076765601.jpg)
![-w1422](media/16353348410193/16355077667055.jpg)
![-w1398](media/16353348410193/16355078784875.jpg)
![-w1405](media/16353348410193/16355079514555.jpg)
![-w1390](media/16353348410193/16355079976716.jpg)
![-w1436](media/16353348410193/16355081108592.jpg)

## 处理机调度的概念、层次
![-w1377](media/16353348410193/16355084009430.jpg)
![-w1409](media/16353348410193/16355085576113.jpg)
![-w1438](media/16353348410193/16355088091526.jpg)
![-w1417](media/16353348410193/16355094108315.jpg)
![-w1410](media/16353348410193/16355095772756.jpg)
![-w1415](media/16353348410193/16355096812518.jpg)
![-w1426](media/16353348410193/16355098144422.jpg)
![-w1415](media/16353348410193/16355098961971.jpg)

## 进程调度的时机、切换与过程调度方式
![-w1428](media/16353348410193/16355114857870.jpg)
![-w1421](media/16353348410193/16355117224560.jpg)
![-w1403](media/16353348410193/16355118900933.jpg)
![-w1403](media/16353348410193/16355120097734.jpg)
![-w1380](media/16353348410193/16355120450872.jpg)
![-w1396](media/16353348410193/16355121814481.jpg)
![-w1434](media/16353348410193/16355123926137.jpg)
![-w1429](media/16353348410193/16355125500488.jpg)
![-w1418](media/16353348410193/16355126482274.jpg)
